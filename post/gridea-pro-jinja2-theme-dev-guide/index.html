<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
<meta name="viewport"
    content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, width=device-width" />
<meta name="renderer" content="webkit">
<meta name="format-detection" content="telephone=no, email=no, address=no">


<meta name="keywords" content="" />
<meta name="description" content="">


<meta property="og:type" content="article">

<meta property="og:title" content="">
<meta property="og:description" content="">
<meta property="og:image" content="">
<meta property="og:site_name" content="">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="">

<!-- Structured Data (JSON-LD) -->



<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "",
        "description": "",
        "image": "",
        "author": {
            "@type": "Person",
            "name": ""
        },
        "publisher": {
            "@type": "Organization",
            "name": "",
            "logo": {
                "@type": "ImageObject",
                "url": ""
            }
        }
        
        ,"datePublished": "2026-02-26T11:15:00Z",
        "dateModified": "2026-02-26T11:15:00Z",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": ""
        }
        
    }
    </script>
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#292a2d" media="(prefers-color-scheme: dark)">




<link rel="shortcut icon" href="/media/images/favicon.ico">

<link rel="stylesheet" href="/styles/main.css">

<script>
    // è‡ªåŠ¨ä¸ºæ‰€æœ‰ target="_blank" çš„é“¾æ¥æ·»åŠ  rel="noopener noreferrer"
    document.addEventListener('DOMContentLoaded', function () {
        var links = document.querySelectorAll('a[target="_blank"]');
        links.forEach(function (link) {
            var rel = link.getAttribute('rel') || '';
            if (rel.indexOf('noopener') === -1) {
                rel += ' noopener';
            }
            if (rel.indexOf('noreferrer') === -1) {
                rel += ' noreferrer';
            }
            link.setAttribute('rel', rel.trim());
        });
    });
</script>


<script>
    /**
     * ä½œç”¨ï¼šå°† GitHub Pages çš„åŸå›¾é“¾æ¥æ›¿æ¢ä¸º jsDelivr CDN é“¾æ¥ï¼ŒåŠ é€Ÿå›¾ç‰‡åŠ è½½
     */
    (function () {
        // === é…ç½®åŒºåŸŸï¼Œéœ€è¦æ›¿æ¢æˆè‡ªå·±çš„ GitHub ç”¨æˆ·åå’Œä»“åº“å ===
        const CONFIG = {
            githubUser: 'tespera',
            repoName: 'tespera.github.io',
            branch: 'master',
            cdnDomain: 'https://cdn.jsdelivr.net/gh',
        };

        // === ä¸»é€»è¾‘ ===
        function optimizeImages() {
            // å¦‚æœæ²¡æœ‰é…ç½® GitHub ä¿¡æ¯ï¼Œåˆ™ç›´æ¥è¿”å›
            if (!CONFIG.githubUser || !CONFIG.repoName) {
                return;
            }

            // 1. è·å–é¡µé¢ä¸Šæ‰€æœ‰å›¾ç‰‡
            const images = document.querySelectorAll('img');

            // 2. æ„é€ æ—§åŸŸåçš„åŒ¹é…è§„åˆ™ (å¼ºåˆ¶è½¬å°å†™ä»¥é¿å…å¤§å°å†™ä¸åŒ¹é…)
            const oldDomain = `${CONFIG.githubUser}.github.io`.toLowerCase();
            // è·å–å½“å‰ç«™ç‚¹åŸŸå (å¤„ç†è‡ªå®šä¹‰åŸŸåçš„æƒ…å†µï¼Œå¦‚ are.ink)
            const currentDomain = window.location.host.toLowerCase();

            images.forEach((img) => {
                // è·å–å½“å‰å›¾ç‰‡çš„ src
                let src = img.getAttribute('src');

                // å¿½ç•¥ç©ºå€¼ã€Base64å›¾ç‰‡ã€å·²ç»æ˜¯CDNçš„é“¾æ¥
                if (!src || src.startsWith('data:') || src.includes(CONFIG.cdnDomain)) {
                    return;
                }

                // ä¸ºäº†åŒ¹é…æ£€æŸ¥ï¼Œæ„é€ ä¸€ä¸ªç”¨äºæ¯”è¾ƒçš„ src
                const srcForCheck = src.toLowerCase();

                let relativePath = null;

                // Case A: åŒ…å« github.io åŸŸå (æ ‡å‡† GitHub Pages)
                if (srcForCheck.includes(oldDomain)) {
                    const startIndex = srcForCheck.indexOf(oldDomain);
                    if (startIndex !== -1) {
                        relativePath = src.substring(startIndex + oldDomain.length);
                    }
                }
                // Case B: åŒ…å«å½“å‰åŸŸå (è‡ªå®šä¹‰åŸŸå æˆ– Localhost)
                else if (srcForCheck.includes(currentDomain)) {
                    try {
                        // å°è¯•è§£æ URL è·å– pathname
                        const url = new URL(src, window.location.href);
                        relativePath = decodeURIComponent(url.pathname);
                    } catch (e) {
                        // é™çº§å¤„ç†
                        const parts = src.split(currentDomain);
                        if (parts.length > 1) relativePath = parts[1];
                    }
                }
                // Case C: ç›¸å¯¹è·¯å¾„ (ä»¥ / å¼€å¤´ï¼Œä¸”ä¸åŒ…å« //)
                else if (src.startsWith('/') && !src.startsWith('//')) {
                    relativePath = src;
                }

                // å¦‚æœæˆåŠŸæå–åˆ°äº†ç›¸å¯¹è·¯å¾„
                if (relativePath) {
                    // ç§»é™¤å¼€å¤´çš„æ–œæ ï¼Œé˜²æ­¢åŒæ–œæ 
                    if (relativePath.startsWith('/')) {
                        relativePath = relativePath.substring(1);
                    }

                    // æ„é€ æ–°çš„ CDN é“¾æ¥
                    // æ³¨æ„ï¼šjsDelivr å¿…é¡»ä½¿ç”¨ GitHub ä»“åº“çš„åŸå§‹è·¯å¾„ (User/Repo)ï¼Œä¸è‡ªå®šä¹‰åŸŸå (CNAME) æ— å…³
                    const newSrc = `${CONFIG.cdnDomain}/${CONFIG.githubUser}/${CONFIG.repoName}@${CONFIG.branch}/${relativePath}`;

                    // æ›¿æ¢å›¾ç‰‡é“¾æ¥
                    img.src = newSrc;
                    img.setAttribute('data-optimized', 'true');

                    // æ·»åŠ é”™è¯¯å›é€€æœºåˆ¶
                    img.onerror = function () {
                        this.src = src; // æ¢å¤åŸå›¾
                        this.onerror = null; // é˜²æ­¢æ­»å¾ªç¯
                    };
                }
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', optimizeImages);

        // å…¼å®¹ä¸€äº›ä½¿ç”¨ Pjax (æ— åˆ·æ–°è·³è½¬) çš„ä¸»é¢˜
        document.addEventListener('pjax:complete', optimizeImages);

    })();
</script>
<script>
    // Theme Copyright
    console.log(
        '\n' +
        '%c Gridea Theme for Amore v1.0 %c https://www.amore.ink ',
        'color: #fadfa3; background: #030307; padding: 12px 10px; border-radius: 3px 0 0 3px;',
        'color: #030307; background: #fadfa3; padding: 12px 10px; border-radius: 0 3px 3px 0;'
        + '\n',
    );
</script>


<script>
    // declaraction of document.ready() function.
    (function () {
        var ie = !!(window.attachEvent && !window.opera);
        var wk = /webkit\/(\d+)/i.test(navigator.userAgent) && (RegExp.$1 < 525);
        var fn = [];
        var run = function () {
            for (var i = 0; i < fn.length; i++) fn[i]();
        };
        var d = document;
        d.ready = function (f) {
            if (!ie && !wk && d.addEventListener)
                return d.addEventListener('DOMContentLoaded', f, false);
            if (fn.push(f) > 1) return;
            if (ie)
                (function () {
                    try {
                        d.documentElement.doScroll('left');
                        run();
                    } catch (err) {
                        setTimeout(arguments.callee, 0);
                    }
                })();
            else if (wk)
                var t = setInterval(function () {
                    if (/^(loaded|complete)$/.test(d.readyState))
                        clearInterval(t), run();
                }, 0);
        };
    })();


    document.ready(
        function () {
            var _Blog = window._Blog || {};

            const getSystemTheme = () => {
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    return 'dark';
                }
                return 'light';
            };

            const currentTheme = window.localStorage && window.localStorage.getItem('theme');
            const initialTheme = currentTheme || getSystemTheme();
            const isDark = initialTheme === 'dark';

            const updateButtons = (dark) => {
                const sunBtn = document.getElementById("theme-toggle-sun");
                const moonBtn = document.getElementById("theme-toggle-moon");
                const mobileSunBtn = document.getElementById("mobile-theme-toggle-sun");
                const mobileMoonBtn = document.getElementById("mobile-theme-toggle-moon");

                if (dark) {
                    if (sunBtn) sunBtn.style.display = 'none';
                    if (moonBtn) moonBtn.style.display = 'inline-block';
                    if (mobileSunBtn) mobileSunBtn.style.display = 'none';
                    if (mobileMoonBtn) mobileMoonBtn.style.display = 'inline-block';
                } else {
                    if (sunBtn) sunBtn.style.display = 'inline-block';
                    if (moonBtn) moonBtn.style.display = 'none';
                    if (mobileSunBtn) mobileSunBtn.style.display = 'inline-block';
                    if (mobileMoonBtn) mobileMoonBtn.style.display = 'none';
                }
            };

            const updateThemeColor = (dark) => {
                const themeColor = dark ? '#292a2d' : '#ffffff';
                const metaTags = document.querySelectorAll('meta[name="theme-color"]');
                if (metaTags.length > 0) {
                    // ä¿ç•™ç¬¬ä¸€ä¸ªï¼Œç§»é™¤å…¶ä»–çš„ï¼Œé¿å…é‡å¤
                    for (let i = 1; i < metaTags.length; i++) {
                        metaTags[i].remove();
                    }
                    metaTags[0].setAttribute('content', themeColor);
                    metaTags[0].removeAttribute('media');
                } else {
                    const meta = document.createElement('meta');
                    meta.name = 'theme-color';
                    meta.content = themeColor;
                    document.head.appendChild(meta);
                }
            };

            const applyTheme = (dark) => {
                const body = document.getElementsByTagName('body')[0];
                if (dark) {
                    body.classList.add('dark-theme');
                } else {
                    body.classList.remove('dark-theme');
                }
                updateButtons(dark);
                updateThemeColor(dark);
            };

            // Initial application
            applyTheme(isDark);
            if (!currentTheme) {
                window.localStorage && window.localStorage.setItem('theme', initialTheme);
            }

            _Blog.toggleTheme = function () {
                const toggleFunc = (e) => {
                    // Prevent bubbling if needed, though buttons are distinct now
                    if (e) e.stopPropagation();

                    const body = document.getElementsByTagName('body')[0];
                    const isCurrentlyDark = body.classList.contains('dark-theme');

                    if (isCurrentlyDark) {
                        body.classList.remove('dark-theme');
                        updateButtons(false);
                        window.localStorage && window.localStorage.setItem('theme', 'light');
                    } else {
                        body.classList.add('dark-theme');
                        updateButtons(true);
                        window.localStorage && window.localStorage.setItem('theme', 'dark');
                    }
                };

                const sunBtn = document.getElementById("theme-toggle-sun");
                const moonBtn = document.getElementById("theme-toggle-moon");
                const mobileSunBtn = document.getElementById("mobile-theme-toggle-sun");
                const mobileMoonBtn = document.getElementById("mobile-theme-toggle-moon");

                if (sunBtn) sunBtn.addEventListener('click', toggleFunc);
                if (moonBtn) moonBtn.addEventListener('click', toggleFunc);
                if (mobileSunBtn) mobileSunBtn.addEventListener('click', toggleFunc);
                if (mobileMoonBtn) mobileMoonBtn.addEventListener('click', toggleFunc);
            };
            _Blog.toggleTheme();

            if (window.matchMedia) {
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                    const newTheme = e.matches ? 'dark' : 'light';
                    applyTheme(e.matches);
                    window.localStorage && window.localStorage.setItem('theme', newTheme);
                });
            }
        }
    );
</script>

<script>
    // Reading Progress Component
    document.addEventListener('DOMContentLoaded', () => {
        const progressValue = document.querySelector('.reading-value');
        const progressCircle = document.querySelector('.progress-ring__circle');
        const container = document.querySelector('.reading-progress-container');

        // Exit if elements don't exist (e.g., not on a post page)
        if (!progressValue || !progressCircle || !container) {
            return;
        }

        // SVG Circle setup
        const radius = progressCircle.r.baseVal.value;
        const circumference = 2 * Math.PI * radius;

        progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
        progressCircle.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const safePercent = Math.min(100, Math.max(0, percent));
            progressValue.textContent = `${Math.round(safePercent)}%`;
            const offset = circumference - (safePercent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
        }

        function onScroll() {
            const scrollTop = window.scrollY || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;

            if (scrollHeight <= 0) {
                setProgress(0);
                return;
            }

            const scrollPercent = (scrollTop / scrollHeight) * 100;
            setProgress(scrollPercent);

            // Show/Hide logic: Show if scrolled more than 100px
            if (scrollTop > 100) {
                container.classList.add('show');
            } else {
                container.classList.remove('show');
            }
        }

        // Initialize
        onScroll();

        // Listen for scroll events
        window.addEventListener('scroll', onScroll, { passive: true });

        // Recalculate on resize
        window.addEventListener('resize', onScroll);
    });
</script>





    <title>Gridea Pro Jinja2 ä¸»é¢˜å¼€å‘å®Œå…¨æŒ‡å—ï¼šä»è¸©å‘åˆ°ç²¾é€š | </title>

    
</head>

<body class="">

    
<script>
    (function () {
        const getSystemTheme = () => {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                return 'dark';
            }
            return 'light';
        };

        const savedTheme = localStorage.getItem('theme');
        const theme = savedTheme || getSystemTheme();

        if (theme === 'dark') {
            document.body.classList.add('dark-theme');
        }

        if (!savedTheme) {
            localStorage.setItem('theme', theme);
        }
    })();
</script>
<header class="mod-head">
    <div class="mod-head__left">
        <div class="mod-head__logo">
            <a href="">
                
                <img class="avatar" alt="avatar" src="/media/images/avatar.jpg">
                
            </a>
        </div>
    </div>

    <div class="mod-head__right">
        <span>
            <button id="theme-toggle-sun" class="tiptap-button theme-toggle-sun" aria-label="Switch to dark mode">
                <svg width="18" height="18" class="tiptap-button-icon" viewBox="0 0 24 24" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 1C12.5523 1 13 1.44772 13 2V4C13 4.55228 12.5523 5 12 5C11.4477 5 11 4.55228 11 4V2C11 1.44772 11.4477 1 12 1Z"
                        fill="currentColor"></path>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12ZM12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9Z"
                        fill="currentColor"></path>
                    <path
                        d="M13 20C13 19.4477 12.5523 19 12 19C11.4477 19 11 19.4477 11 20V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V20Z"
                        fill="currentColor"></path>
                    <path
                        d="M4.22282 4.22289C4.61335 3.83236 5.24651 3.83236 5.63704 4.22289L7.04704 5.63289C7.43756 6.02341 7.43756 6.65658 7.04704 7.0471C6.65651 7.43762 6.02335 7.43762 5.63283 7.0471L4.22282 5.6371C3.8323 5.24658 3.8323 4.61341 4.22282 4.22289Z"
                        fill="currentColor"></path>
                    <path
                        d="M18.367 16.9529C17.9765 16.5623 17.3433 16.5623 16.9528 16.9529C16.5623 17.3434 16.5623 17.9766 16.9528 18.3671L18.3628 19.7771C18.7533 20.1676 19.3865 20.1676 19.777 19.7771C20.1675 19.3866 20.1675 18.7534 19.777 18.3629L18.367 16.9529Z"
                        fill="currentColor"></path>
                    <path
                        d="M1 12C1 11.4477 1.44772 11 2 11H4C4.55228 11 5 11.4477 5 12C5 12.5523 4.55228 13 4 13H2C1.44772 13 1 12.5523 1 12Z"
                        fill="currentColor"></path>
                    <path
                        d="M20 11C19.4477 11 19 11.4477 19 12C19 12.5523 19.4477 13 20 13H22C22.5523 13 23 12.5523 23 12C23 11.4477 22.5523 11 22 11H20Z"
                        fill="currentColor"></path>
                    <path
                        d="M7.04704 16.9529C7.43756 17.3434 7.43756 17.9766 7.04704 18.3671L5.63704 19.7771C5.24651 20.1676 4.61335 20.1676 4.22282 19.7771C3.8323 19.3866 3.8323 18.7534 4.22283 18.3629L5.63283 16.9529C6.02335 16.5623 6.65651 16.5623 7.04704 16.9529Z"
                        fill="currentColor"></path>
                    <path
                        d="M19.777 5.6371C20.1675 5.24657 20.1675 4.61341 19.777 4.22289C19.3865 3.83236 18.7533 3.83236 18.3628 4.22289L16.9528 5.63289C16.5623 6.02341 16.5623 6.65658 16.9528 7.0471C17.3433 7.43762 17.9765 7.43762 18.367 7.0471L19.777 5.6371Z"
                        fill="currentColor"></path>
                </svg>
            </button>
            <button id="theme-toggle-moon" class="tiptap-button theme-toggle-moon" aria-label="Switch to light mode">
                <svg width="18" height="18" class="tiptap-button-icon" viewBox="0 0 24 24" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 11.5955 21.7564 11.2309 21.3827 11.0761C21.009 10.9213 20.5789 11.0069 20.2929 11.2929C19.287 12.2988 17.9226 12.864 16.5 12.864C15.0774 12.864 13.713 12.2988 12.7071 11.2929C11.7012 10.287 11.136 8.92261 11.136 7.5C11.136 6.07739 11.7012 4.71304 12.7071 3.70711C12.9931 3.42111 13.0787 2.99099 12.9239 2.61732C12.7691 2.24364 12.4045 2 12 2ZM7.55544 5.34824C8.27036 4.87055 9.05353 4.51389 9.87357 4.28778C9.39271 5.27979 9.13604 6.37666 9.13604 7.5C9.13604 9.45304 9.91189 11.3261 11.2929 12.7071C12.6739 14.0881 14.547 14.864 16.5 14.864C17.6233 14.864 18.7202 14.6073 19.7122 14.1264C19.4861 14.9465 19.1295 15.7296 18.6518 16.4446C17.7727 17.7602 16.5233 18.7855 15.0615 19.391C13.5997 19.9965 11.9911 20.155 10.4393 19.8463C8.88743 19.5376 7.46197 18.7757 6.34315 17.6569C5.21447 16.538 4.4624 15.1126 4.15372 13.5607C3.84504 12.0089 4.00347 10.4003 4.60897 8.93853C5.21447 7.47672 6.23985 6.22729 7.55544 5.34824Z"
                        fill="currentColor"></path>
                    <path
                        d="M19 2C19.5523 2 20 2.44772 20 3V4H21C21.5523 4 22 4.44772 22 5C22 5.55228 21.5523 6 21 6H20V7C20 7.55228 19.5523 8 19 8C18.4477 8 18 7.55228 18 7V6H17C16.4477 6 16 5.55228 16 5C16 4.44772 16.4477 4 17 4H18V3C18 2.44772 18.4477 2 19 2Z"
                        fill="currentColor"></path>
                </svg>
            </button>
        </span>
    </div>
</header>
<!-- <a href="#" id="back-to-top" style="display: inline;"> ^ </a> -->

<article class="mod-post mod-post__type-post">
    <header>
        <h1 class="mod-post__title">
            Gridea Pro Jinja2 ä¸»é¢˜å¼€å‘å®Œå…¨æŒ‡å—ï¼šä»è¸©å‘åˆ°ç²¾é€š
        </h1>
    </header>

    <div class="mod-post__meta">
        <time datetime="2026-02-26">
            2026-02-26
        </time> â€¢ 52 åˆ†é’Ÿé˜…è¯» â€¢
        
        <a href="/tag/Jinja2/">
            Jinja2
        </a>
         Â·  
        <a href="/tag/Gridea Pro/">
            Gridea Pro
        </a>
         Â·  
        <a href="/tag/Pongo2/">
            Pongo2
        </a>
         Â·  
        <a href="/tag/Go/">
            Go
        </a>
         Â·  
        <a href="/tag/ä¸»é¢˜å¼€å‘/">
            ä¸»é¢˜å¼€å‘
        </a>
         Â·  
        <a href="/tag/æ•™ç¨‹/">
            æ•™ç¨‹
        </a>
         Â·   </div>



            <div class="mod-post__entry wzulli">
                
                <p>Gridea Pro ä» v2 å¼€å§‹å¼•å…¥äº† Jinja2 æ¨¡æ¿å¼•æ“æ”¯æŒï¼ˆåŸºäº Go è¯­è¨€çš„ Pongo2 å®ç°ï¼‰ï¼Œä¸ºä¸»é¢˜å¼€å‘è€…æä¾›äº†æ¯” EJS æ›´ä¼˜é›…çš„æ¨¡æ¿ç»§æ‰¿å’Œç»„ä»¶åŒ–èƒ½åŠ›ã€‚ä½†ç”±äº Pongo2 ä¸æ ‡å‡† Python Jinja2 å­˜åœ¨ç»†å¾®ä½†å…³é”®çš„è¯­æ³•å·®å¼‚ï¼Œåˆæ¬¡å¼€å‘è€…å¾ˆå®¹æ˜“è¸©å‘ã€‚</p>
<p>æœ¬æ–‡åŸºäºä¸€æ¬¡å®Œæ•´çš„ EJS åˆ° Jinja2 ä¸»é¢˜è¿ç§»å®æˆ˜ï¼ˆamore ä¸»é¢˜ï¼‰ï¼Œç³»ç»Ÿæ€§åœ°æ€»ç»“äº†æ‰€æœ‰å·²çŸ¥çš„å…¼å®¹æ€§é™·é˜±å’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©ä½ ä»é›¶å¼€å§‹å†™å‡ºä¸€ä¸ªé›¶æŠ¥é”™çš„ Jinja2 ä¸»é¢˜ã€‚</p>
<!-- more -->
<hr />
<h2 id="heading">ä¸€ã€ä¸»é¢˜ç›®å½•ç»“æ„</h2>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Jinja2 ä¸»é¢˜ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code>themes/my-theme/
|-- config.json              # ä¸»é¢˜é…ç½®æ–‡ä»¶
|-- assets/                  # é™æ€èµ„æº
|   |-- media/
|   |   +-- images/
|   |       |-- avatar.jpg
|   |       +-- favicon.ico
|   +-- styles/
|       +-- main.less
+-- templates/               # æ¨¡æ¿æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰
    |-- base.html            # æ ¹å¸ƒå±€ï¼ˆå®šä¹‰ block å ä½ç¬¦ï¼‰
    |-- index.html           # é¦–é¡µ
    |-- post.html            # æ–‡ç« è¯¦æƒ…é¡µ
    |-- archives.html        # å½’æ¡£é¡µ
    |-- tag.html             # æ ‡ç­¾è¯¦æƒ…é¡µ
    |-- tags.html            # æ ‡ç­¾åˆ—è¡¨é¡µ
    |-- about.html           # å…³äºé¡µ
    |-- friends.html         # å‹é“¾é¡µ
    |-- blog.html            # åšå®¢åˆ—è¡¨é¡µ
    |-- memos.html           # é—ªå¿µé¡µ
    |-- 404.html             # 404 é¡µé¢
    +-- partials/            # å¯å¤ç”¨ç»„ä»¶
        |-- head.html        # HTML headï¼ˆSEOã€CSSã€JSï¼‰
        |-- header.html      # å¯¼èˆªæ 
        |-- footer.html      # é¡µè„š
        |-- comments.html    # è¯„è®ºç³»ç»Ÿ
        |-- post-list.html   # æ–‡ç« åˆ—è¡¨ç»„ä»¶
        |-- post-tags.html   # æ–‡ç« æ ‡ç­¾
        |-- post-pagination.html # ä¸Šä¸‹ç¯‡å¯¼èˆª
        |-- global-seo.html  # å…¨å±€ SEO ç»“æ„åŒ–æ•°æ®
        |-- index-seo.html   # é¦–é¡µ SEO
        |-- scripts.html     # å…¬å…±è„šæœ¬
        +-- reading-progress.html # é˜…è¯»è¿›åº¦æ¡
</code></pre>
<h3 id="configjson-">config.json é…ç½®</h3>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;My Theme&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;author&quot;: &quot;Your Name&quot;,
  &quot;engine&quot;: &quot;jinja2&quot;,
  &quot;customConfig&quot;: [
    {
      &quot;name&quot;: &quot;siteName&quot;,
      &quot;label&quot;: &quot;ç«™ç‚¹åç§°&quot;,
      &quot;group&quot;: &quot;åŸºç¡€&quot;,
      &quot;value&quot;: &quot;My Blog&quot;,
      &quot;type&quot;: &quot;input&quot;
    }
  ]
}
</code></pre>
<blockquote>
<p><strong>å…³é”®</strong>ï¼š<code>&quot;engine&quot;: &quot;jinja2&quot;</code> æ˜¯å¿…é¡»çš„ï¼Œå®ƒå‘Šè¯‰ Gridea Pro ä½¿ç”¨ Pongo2 å¼•æ“è€Œé EJSã€‚</p>
</blockquote>
<hr />
<h2 id="heading-1">äºŒã€æ¨¡æ¿æ•°æ®ä¸Šä¸‹æ–‡</h2>
<p>Gridea Pro ä¼šå‘æ¨¡æ¿æ³¨å…¥ä»¥ä¸‹æ•°æ®å˜é‡ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ï¼š</p>
<h3 id="heading-2">å…¨å±€å˜é‡</h3>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>config</code></td>
<td>Object</td>
<td>ç«™ç‚¹é…ç½®ï¼ˆdomain, siteName ç­‰ï¼‰</td>
</tr>
<tr>
<td><code>theme_config</code></td>
<td>Object</td>
<td>ä¸»é¢˜è‡ªå®šä¹‰é…ç½®</td>
</tr>
<tr>
<td><code>menus</code></td>
<td>Array</td>
<td>å¯¼èˆªèœå•åˆ—è¡¨</td>
</tr>
<tr>
<td><code>posts</code></td>
<td>Array</td>
<td>æ–‡ç« åˆ—è¡¨</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>Array</td>
<td>æ ‡ç­¾åˆ—è¡¨</td>
</tr>
<tr>
<td><code>memos</code></td>
<td>Array</td>
<td>é—ªå¿µåˆ—è¡¨</td>
</tr>
<tr>
<td><code>now</code></td>
<td>time.Time</td>
<td>å½“å‰æ—¶é—´ï¼ˆGo åŸç”Ÿ time.Time å¯¹è±¡ï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="heading-3">æ–‡ç« é¡µä¸“æœ‰å˜é‡</h3>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>post</code></td>
<td>Object</td>
<td>å½“å‰æ–‡ç« </td>
</tr>
<tr>
<td><code>post.title</code></td>
<td>String</td>
<td>æ–‡ç« æ ‡é¢˜</td>
</tr>
<tr>
<td><code>post.content</code></td>
<td>String</td>
<td>æ–‡ç«  HTML å†…å®¹</td>
</tr>
<tr>
<td><code>post.date</code></td>
<td>String</td>
<td>å‘å¸ƒæ—¥æœŸï¼ˆå·²æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼‰</td>
</tr>
<tr>
<td><code>post.dateFormat</code></td>
<td>String</td>
<td>æ ¼å¼åŒ–æ—¥æœŸæ˜¾ç¤º</td>
</tr>
<tr>
<td><code>post.link</code></td>
<td>String</td>
<td>æ–‡ç« é“¾æ¥</td>
</tr>
<tr>
<td><code>post.tags</code></td>
<td>Array</td>
<td>æ–‡ç« æ ‡ç­¾åˆ—è¡¨</td>
</tr>
<tr>
<td><code>post.feature</code></td>
<td>String</td>
<td>ç‰¹è‰²å›¾ç‰‡ URL</td>
</tr>
<tr>
<td><code>post.isTop</code></td>
<td>Boolean</td>
<td>æ˜¯å¦ç½®é¡¶</td>
</tr>
</tbody>
</table>
<h3 id="heading-4">æ ‡ç­¾é¡µä¸“æœ‰å˜é‡</h3>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tag</code></td>
<td>Object</td>
<td>å½“å‰æ ‡ç­¾ï¼ˆtag.name, tag.linkï¼‰</td>
</tr>
<tr>
<td><code>current_tag</code></td>
<td>Object</td>
<td>åŒ tag</td>
</tr>
</tbody>
</table>
<h3 id="heading-5">åˆ†é¡µå˜é‡</h3>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pagination</code></td>
<td>Object</td>
<td>åˆ†é¡µä¿¡æ¯</td>
</tr>
<tr>
<td><code>pagination.prev</code></td>
<td>String</td>
<td>ä¸Šä¸€é¡µé“¾æ¥</td>
</tr>
<tr>
<td><code>pagination.next</code></td>
<td>String</td>
<td>ä¸‹ä¸€é¡µé“¾æ¥</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="pongo2-">ä¸‰ã€Pongo2 æ ¸å¿ƒè¯­æ³•é€ŸæŸ¥</h2>
<h3 id="31-">3.1 æ¨¡æ¿ç»§æ‰¿</h3>
<p>Jinja2 æœ€å¼ºå¤§çš„ç‰¹æ€§ã€‚å®šä¹‰ä¸€ä¸ªåŸºç¡€å¸ƒå±€ï¼Œå­æ¨¡æ¿ç»§æ‰¿å¹¶å¡«å……å†…å®¹ã€‚</p>
<p><strong>base.htmlï¼ˆåŸºç¡€å¸ƒå±€ï¼‰ï¼š</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
    {% include &quot;partials/head.html&quot; %}
    &lt;title&gt;{% block title %}{{ config.siteName }}{% endblock %}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    {% block content %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>index.htmlï¼ˆå­æ¨¡æ¿ï¼‰ï¼š</strong></p>
<pre><code class="language-html">{% extends &quot;base.html&quot; %}
{% block title %}é¦–é¡µ | {{ config.siteName }}{% endblock %}

{% block content %}
&lt;h1&gt;æ¬¢è¿&lt;/h1&gt;
{% endblock %}
</code></pre>
<h3 id="32-include-">3.2 Include ç»„ä»¶</h3>
<pre><code class="language-html">{% include &quot;partials/header.html&quot; %}
{% include &quot;partials/footer.html&quot; %}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šè·¯å¾„å§‹ç»ˆç›¸å¯¹äº <code>templates/</code> æ ¹ç›®å½•ï¼Œä¸æ˜¯ç›¸å¯¹äºå½“å‰æ–‡ä»¶ã€‚ä¾‹å¦‚åœ¨ <code>partials/head.html</code> ä¸­ include åŒç›®å½•çš„ <code>global-seo.html</code>ï¼Œä»ç„¶è¦å†™ <code>{% include &quot;partials/global-seo.html&quot; %}</code>ã€‚</p>
</blockquote>
<h3 id="33-">3.3 å˜é‡è¾“å‡º</h3>
<pre><code class="language-html">{{ config.siteName }}
{{ post.title }}
{{ post.content | safe }}
</code></pre>
<p><code>| safe</code> ç”¨äºè¾“å‡ºåŸå§‹ HTML è€Œä¸è½¬ä¹‰ã€‚</p>
<h3 id="34-">3.4 æ¡ä»¶åˆ¤æ–­</h3>
<pre><code class="language-html">{% if post %}
    &lt;h1&gt;{{ post.title }}&lt;/h1&gt;
{% else %}
    &lt;h1&gt;é»˜è®¤æ ‡é¢˜&lt;/h1&gt;
{% endif %}
</code></pre>
<h3 id="35-">3.5 å¾ªç¯</h3>
<pre><code class="language-html">{% for post in posts %}
    &lt;li&gt;{{ post.title }}&lt;/li&gt;
{% endfor %}
</code></pre>
<p>å¾ªç¯ä¸­å¯ä½¿ç”¨ <code>loop.index</code>ï¼ˆä»1å¼€å§‹ï¼‰å’Œ <code>loop.index0</code>ï¼ˆä»0å¼€å§‹ï¼‰ã€‚</p>
<h3 id="36-set-">3.6 Set å˜é‡</h3>
<pre><code class="language-html">{% set cdnPrefix = config.domain %}
{% if theme_config.cdnPrefix %}
    {% set cdnPrefix = theme_config.cdnPrefix %}
{% endif %}
</code></pre>
<hr />
<h2 id="pongo2-vs--jinja2">å››ã€å…³é”®å·®å¼‚ï¼šPongo2 vs æ ‡å‡† Jinja2</h2>
<p>è¿™æ˜¯ <strong>æœ€é‡è¦çš„ç« èŠ‚</strong>ã€‚Pongo2 è™½ç„¶å·ç§°å…¼å®¹ Jinja2ï¼Œä½†æœ‰å¤šå¤„è¯­æ³•ä¸å…¼å®¹ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬åœ¨å®æˆ˜ä¸­è¸©è¿‡çš„æ¯ä¸€ä¸ªå‘ï¼š</p>
<h3 id="41-filter-">4.1 Filter å‚æ•°è¯­æ³•</h3>
<p>æ ‡å‡† Jinja2 ä½¿ç”¨æ‹¬å·ä¼ å‚ï¼ŒPongo2 ä½¿ç”¨å†’å·ï¼š</p>
<pre><code>é”™è¯¯ï¼ˆæ ‡å‡† Jinja2 å†™æ³•ï¼‰ï¼š
  {{ value | default(&quot;fallback&quot;) }}
  {{ value | truncate(100) }}

æ­£ç¡®ï¼ˆPongo2 å†™æ³•ï¼‰ï¼š
  {{ value | default:&quot;fallback&quot; }}
  {{ value | truncate:100 }}
</code></pre>
<h3 id="42--python-">4.2 æ²¡æœ‰ Python ä¸‰å…ƒè¡¨è¾¾å¼</h3>
<p>æ ‡å‡† Jinja2 æ”¯æŒ <code>value if condition else other</code>ï¼ŒPongo2 ä¸æ”¯æŒï¼š</p>
<pre><code>é”™è¯¯ï¼š
  {{ post.title if post else 'é»˜è®¤' }}

æ­£ç¡®ï¼š
  {% if post %}{{ post.title }}{% else %}é»˜è®¤{% endif %}
</code></pre>
<h3 id="43-">4.3 é€»è¾‘è¿ç®—ç¬¦</h3>
<pre><code>é”™è¯¯ï¼ˆJavaScript é£æ ¼ï¼‰ï¼š
  {% if a &amp;&amp; b %}
  {% if typeof pagination !== 'undefined' %}

æ­£ç¡®ï¼ˆPython é£æ ¼ï¼‰ï¼š
  {% if a and b %}
  {% if pagination %}
</code></pre>
<h3 id="44-">4.4 å­—ç¬¦ä¸²è¿æ¥</h3>
<p>æ ‡å‡† Jinja2 ä½¿ç”¨ <code>~</code> è¿æ¥å­—ç¬¦ä¸²ï¼ŒPongo2 ä¸æ”¯æŒã€‚å»ºè®®ç›´æ¥åœ¨è¾“å‡ºä½ç½®æ‹¼æ¥ï¼š</p>
<pre><code>é”™è¯¯ï¼š
  {% set title = post.title ~ ' | ' ~ config.siteName %}

æ­£ç¡®ï¼š
  &lt;title&gt;{{ post.title }} | {{ config.siteName }}&lt;/title&gt;
</code></pre>
<h3 id="45-">4.5 åˆ—è¡¨é•¿åº¦</h3>
<p>Pongo2 ä¸æ”¯æŒ JavaScript çš„ <code>.length</code>ï¼Œä½¿ç”¨ <code>|length</code> filterï¼š</p>
<pre><code>é”™è¯¯ï¼š{% if tags.length &gt; 0 %}
æ­£ç¡®ï¼š{% if tags|length &gt; 0 %}
</code></pre>
<h3 id="46-is-defined-">4.6 is defined æµ‹è¯•</h3>
<p>Pongo2 ä¸æ”¯æŒ <code>is defined</code>ï¼Œç›´æ¥ç”¨å˜é‡åšæ¡ä»¶åˆ¤æ–­ï¼š</p>
<pre><code>é”™è¯¯ï¼š{% if commentSetting is defined %}
æ­£ç¡®ï¼š{% if commentSetting %}
</code></pre>
<h3 id="47-not-in-">4.7 not in æ“ä½œç¬¦</h3>
<p>Pongo2 ä¸æ”¯æŒ <code>x not in y</code>ï¼Œéœ€è¦æ‹†å¼€ï¼š</p>
<pre><code>é”™è¯¯ï¼š{% if 'about' not in post.link %}
æ­£ç¡®ï¼š{% if not &quot;about&quot; in post.link %}
</code></pre>
<h3 id="48-date-filter-">4.8 date Filter ç±»å‹è¦æ±‚</h3>
<p>Pongo2 çš„ <code>date</code> filter ä¸¥æ ¼è¦æ±‚è¾“å…¥å¿…é¡»æ˜¯ Go çš„ <code>time.Time</code> ç±»å‹ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²ï¼š</p>
<pre><code>é”™è¯¯ï¼ˆpost.date æ˜¯å­—ç¬¦ä¸²ï¼Œä¸æ˜¯ time.Timeï¼‰ï¼š
  {{ post.date | date:&quot;2006-01-02&quot; }}
  {{ &quot;now&quot; | date:&quot;2006&quot; }}

æ­£ç¡®ï¼ˆpost.date å·²ç»æ˜¯æ ¼å¼åŒ–å¥½çš„å­—ç¬¦ä¸²ï¼‰ï¼š
  {{ post.date }}

æ­£ç¡®ï¼ˆnow æ˜¯ Gridea æ³¨å…¥çš„çœŸæ­£ time.Time å¯¹è±¡ï¼‰ï¼š
  {{ now | date:&quot;2006&quot; }}
</code></pre>
<h3 id="49-">4.9 å¾ªç¯å˜é‡å‘½å</h3>
<p>for å¾ªç¯ä¸­å¿…é¡»æ˜¾å¼å‘½åå¾ªç¯å˜é‡ï¼š</p>
<pre><code>é”™è¯¯ï¼š{% for None in posts %}
æ­£ç¡®ï¼š{% for post in posts %}
</code></pre>
<hr />
<h2 id="heading-6">äº”ã€æ ‡ç­¾å†…æ¢è¡Œç¬¦é—®é¢˜ï¼ˆå·²åœ¨å¼•æ“å±‚é¢è§£å†³ï¼‰</h2>
<h3 id="heading-7">é—®é¢˜æè¿°</h3>
<p>æ ‡å‡† Jinja2 å…è®¸åœ¨æ ‡ç­¾å†…æ¢è¡Œï¼Œä½† Pongo2 çš„ Lexer ä¸¥æ ¼ç¦æ­¢ï¼š</p>
<pre><code class="language-html">&lt;!-- è¿™åœ¨æ ‡å‡† Jinja2 ä¸­åˆæ³•ï¼Œä½†åœ¨ Pongo2 ä¸­æŠ¥é”™ --&gt;
&lt;a href=&quot;{{ config.domain }}&quot;&gt;{{
    config.siteName
}}&lt;/a&gt;
</code></pre>
<p>ä¼šè§¦å‘é”™è¯¯ï¼š<code>Newline not allowed within tag/variable</code></p>
<h3 id="heading-8">è§£å†³æ–¹æ¡ˆ</h3>
<p>Gridea Pro å·²åœ¨å¼•æ“å±‚é¢å†…ç½®äº† SanitizingLoaderï¼ˆè‡ªå®šä¹‰æ¨¡æ¿åŠ è½½å™¨ï¼‰ï¼Œå®ƒåœ¨æ¨¡æ¿åŠ è½½æ—¶è‡ªåŠ¨æ¸…ç†æ ‡ç­¾å†…çš„æ¢è¡Œç¬¦ï¼Œå¯¹ä¸»é¢˜å¼€å‘è€…å®Œå…¨é€æ˜ã€‚</p>
<p>ä½†å»ºè®®ä¿æŒæ ‡ç­¾å†…å®¹åœ¨åŒä¸€è¡Œï¼š</p>
<pre><code class="language-html">&lt;a href=&quot;{{ config.domain }}&quot;&gt;{{ config.siteName }}&lt;/a&gt;
</code></pre>
<hr />
<h2 id="gridea-pro--filter">å…­ã€Gridea Pro å†…ç½® Filter</h2>
<p>é™¤äº† Pongo2 æœ¬èº«çš„ filterï¼ˆsafe, default, length, lower, upper, striptags, date ç­‰ï¼‰ï¼ŒGridea Pro è¿˜æä¾›äº†ä»¥ä¸‹è‡ªå®šä¹‰ filterï¼š</p>
<table>
<thead>
<tr>
<th>Filter</th>
<th>ç”¨æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>reading_time</td>
<td><code>{{ post.content | reading_time }}</code></td>
<td>ä¼°ç®—é˜…è¯»æ—¶é—´ï¼ˆæ”¯æŒä¸­æ–‡ï¼‰</td>
</tr>
<tr>
<td>excerpt</td>
<td><code>{{ post.content | excerpt }}</code></td>
<td>æˆªå–æ‘˜è¦</td>
</tr>
<tr>
<td>word_count</td>
<td><code>{{ post.content | word_count }}</code></td>
<td>ç»Ÿè®¡å­—æ•°ï¼ˆCJK æ„ŸçŸ¥ï¼‰</td>
</tr>
<tr>
<td>strip_html</td>
<td><code>{{ content | strip_html }}</code></td>
<td>ç§»é™¤ HTML æ ‡ç­¾</td>
</tr>
<tr>
<td>relative / timeago</td>
<td><code>{{ post.date | relative }}</code></td>
<td>ç›¸å¯¹æ—¶é—´ï¼ˆ&ldquo;3 å¤©å‰&rdquo;ï¼‰</td>
</tr>
<tr>
<td>to_json</td>
<td><code>{{ data | to_json }}</code></td>
<td>åºåˆ—åŒ–ä¸º JSON</td>
</tr>
<tr>
<td>group_by</td>
<td><code>{{ posts | group_by:&quot;year&quot; }}</code></td>
<td>æŒ‰å±æ€§åˆ†ç»„</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="heading-9">ä¸ƒã€å®Œæ•´æ¨¡æ¿ç¤ºä¾‹</h2>
<h3 id="71-basehtml">7.1 base.htmlï¼ˆæ ¹å¸ƒå±€ï¼‰</h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
    {% include &quot;partials/head.html&quot; %}
    &lt;title&gt;{% block title %}{{ config.siteName }}{% endblock %}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    {% block content %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="72-indexhtml">7.2 index.htmlï¼ˆé¦–é¡µï¼‰</h3>
<pre><code class="language-html">{% extends &quot;base.html&quot; %}
{% block title %}{{ config.siteName }}{% endblock %}

{% block content %}
{% include &quot;partials/header.html&quot; %}

&lt;div class=&quot;posts-list&quot;&gt;
    {% for post in posts %}
    &lt;article class=&quot;post-card&quot;&gt;
        &lt;h2&gt;&lt;a href=&quot;{{ post.link }}&quot;&gt;{{ post.title }}&lt;/a&gt;&lt;/h2&gt;
        &lt;time&gt;{{ post.dateFormat }}&lt;/time&gt;
        &lt;p&gt;{{ post.content | excerpt:200 }}&lt;/p&gt;
    &lt;/article&gt;
    {% endfor %}
&lt;/div&gt;

{% if pagination %}
&lt;nav class=&quot;pagination&quot;&gt;
    {% if pagination.prev %}
    &lt;a href=&quot;{{ pagination.prev }}&quot;&gt;ä¸Šä¸€é¡µ&lt;/a&gt;
    {% endif %}
    {% if pagination.next %}
    &lt;a href=&quot;{{ pagination.next }}&quot;&gt;ä¸‹ä¸€é¡µ&lt;/a&gt;
    {% endif %}
&lt;/nav&gt;
{% endif %}

{% include &quot;partials/footer.html&quot; %}
{% endblock %}
</code></pre>
<h3 id="73-posthtml">7.3 post.htmlï¼ˆæ–‡ç« é¡µï¼‰</h3>
<pre><code class="language-html">{% extends &quot;base.html&quot; %}
{% block title %}{{ post.title }} | {{ config.siteName }}{% endblock %}

{% block content %}
{% include &quot;partials/header.html&quot; %}

&lt;article&gt;
    &lt;h1&gt;{{ post.title }}&lt;/h1&gt;
    &lt;div class=&quot;meta&quot;&gt;
        &lt;time&gt;{{ post.dateFormat }}&lt;/time&gt;
    &lt;/div&gt;

    &lt;div class=&quot;content&quot;&gt;
        {{ post.content | safe }}
    &lt;/div&gt;

    &lt;div class=&quot;post-tags&quot;&gt;
        {% for tag in post.tags %}
        &lt;a href=&quot;{{ tag.link }}&quot;&gt;#{{ tag.name }}&lt;/a&gt;
        {% endfor %}
    &lt;/div&gt;
&lt;/article&gt;

{% include &quot;partials/comments.html&quot; %}
{% include &quot;partials/footer.html&quot; %}
{% endblock %}
</code></pre>
<h3 id="74-partialsfooterhtml">7.4 partials/footer.htmlï¼ˆé¡µè„šç»„ä»¶ï¼‰</h3>
<pre><code class="language-html">&lt;footer&gt;
    &lt;nav&gt;
        {% for menu in menus %}
        &lt;a href=&quot;{{ menu.link }}&quot;&gt;{{ menu.name }}&lt;/a&gt;
        {% endfor %}
    &lt;/nav&gt;
    &lt;div class=&quot;copyright&quot;&gt;
        Copyright {{ now | date:&quot;2006&quot; }}
        &lt;a href=&quot;{{ config.domain }}&quot;&gt;{{ config.siteName }}&lt;/a&gt;
    &lt;/div&gt;
    &lt;div class=&quot;footer-info&quot;&gt;
        {{ theme_config.footerInfo | safe }}
    &lt;/div&gt;
&lt;/footer&gt;
</code></pre>
<hr />
<h2 id="-ejs-">å…«ã€ä» EJS è¿ç§»çš„æ£€æŸ¥æ¸…å•</h2>
<p>å¦‚æœä½ æ­£åœ¨å°†ç°æœ‰ EJS ä¸»é¢˜è¿ç§»åˆ° Jinja2ï¼Œè¯·é€é¡¹æ£€æŸ¥ï¼š</p>
<ul>
<li>æ‰€æœ‰ <code>&lt;% %&gt;</code> æ”¹ä¸º <code>{% %}</code></li>
<li>æ‰€æœ‰ <code>&lt;%= %&gt;</code> æ”¹ä¸º <code>{{ }}</code></li>
<li>æ‰€æœ‰ <code>&lt;%- %&gt;</code> æ”¹ä¸º <code>{{ | safe }}</code></li>
<li>æ‰€æœ‰ <code>include('./includes/xxx')</code> æ”¹ä¸º <code>{% include &quot;partials/xxx.html&quot; %}</code></li>
<li>æ‰€æœ‰ <code>&amp;&amp;</code> æ”¹ä¸º <code>and</code>ï¼Œ<code>||</code> æ”¹ä¸º <code>or</code></li>
<li>æ‰€æœ‰ <code>.length</code> æ”¹ä¸º <code>|length</code></li>
<li>æ‰€æœ‰ <code>default(&quot;value&quot;)</code> æ”¹ä¸º <code>default:&quot;value&quot;</code></li>
<li>æ‰€æœ‰ <code>forEach(function(item) { })</code> æ”¹ä¸º <code>{% for item in list %}</code></li>
<li>æ‰€æœ‰ Python ä¸‰å…ƒè¡¨è¾¾å¼æ”¹ä¸º <code>{% if %}...{% else %}...{% endif %}</code></li>
<li>æ‰€æœ‰ <code>typeof x !== 'undefined'</code> æ”¹ä¸º <code>{% if x %}</code></li>
<li>æ‰€æœ‰ <code>not in</code> æ”¹ä¸º <code>not ... in</code></li>
<li>ç¡®è®¤ <code>date</code> filter åªç”¨äº time.Time ç±»å‹ï¼ˆå¦‚ nowï¼‰ï¼Œä¸ç”¨äºå­—ç¬¦ä¸²</li>
<li>æ‰€æœ‰å¾ªç¯å˜é‡æ˜¾å¼å‘½åï¼ˆé¿å… <code>for None in</code>ï¼‰</li>
<li>æ ¹å¸ƒå±€æ”¹ç”¨ <code>{% extends %}</code> + <code>{% block %}</code></li>
</ul>
<hr />
<h2 id="heading-10">ä¹ã€è°ƒè¯•æŠ€å·§</h2>
<h3 id="91-">9.1 æŸ¥çœ‹æ¸²æŸ“æ—¥å¿—</h3>
<p>è¿è¡Œ <code>wails dev</code> æ—¶ï¼Œç»ˆç«¯ä¼šè¾“å‡ºæ¯ä¸ªæ¨¡æ¿çš„æ¸²æŸ“çŠ¶æ€ã€‚</p>
<h3 id="92-">9.2 å¸¸è§é”™è¯¯ä¿¡æ¯é€ŸæŸ¥</h3>
<table>
<thead>
<tr>
<th>é”™è¯¯ä¿¡æ¯</th>
<th>åŸå› </th>
<th>è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Newline not allowed within tag/variable</td>
<td>æ ‡ç­¾å†…æœ‰æ¢è¡Œ</td>
<td>ä¿æŒæ ‡ç­¾å†…å®¹åœ¨ä¸€è¡Œå†…</td>
</tr>
<tr>
<td>&lsquo;}}&rsquo; expected</td>
<td>ä½¿ç”¨äº† Python ä¸‰å…ƒè¡¨è¾¾å¼</td>
<td>æ”¹ç”¨ if/else å—</td>
</tr>
<tr>
<td>Malformed &lsquo;set&rsquo;-tag arguments</td>
<td>default() æ‹¬å·è¯­æ³•</td>
<td>æ”¹ä¸º default:value</td>
</tr>
<tr>
<td>If-condition is malformed</td>
<td>ä½¿ç”¨äº† not in</td>
<td>æ”¹ä¸ºåµŒå¥— if not &hellip; in</td>
</tr>
<tr>
<td>filter input argument must be of type &rsquo;time.Time&rsquo;</td>
<td>å¯¹å­—ç¬¦ä¸²ä½¿ç”¨ date filter</td>
<td>ç§»é™¤ filter æˆ–ä½¿ç”¨ now å˜é‡</td>
</tr>
<tr>
<td>unable to resolve template</td>
<td>include/extends è·¯å¾„é”™è¯¯</td>
<td>è·¯å¾„ç›¸å¯¹äº templates/ æ ¹ç›®å½•</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="heading-11">åã€æ€»ç»“</h2>
<p>Gridea Pro çš„ Jinja2 ä¸»é¢˜å¼€å‘ä½“éªŒåœ¨ç»è¿‡ä¼˜åŒ–åå·²ç»éå¸¸æµç•…ã€‚æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li><strong>Pongo2 ä¸ç­‰äºæ ‡å‡† Jinja2</strong>ï¼šæœ€å¤§çš„åŒºåˆ«æ˜¯ filter å‚æ•°ç”¨å†’å·ã€ä¸æ”¯æŒ Python ä¸‰å…ƒã€ä¸æ”¯æŒå­—ç¬¦ä¸²è¿æ¥ç¬¦</li>
<li><strong>å–„ç”¨æ¨¡æ¿ç»§æ‰¿</strong>ï¼šextends + block æ˜¯ Jinja2 æœ€å¼ºå¤§çš„ç‰¹æ€§</li>
<li><strong>include è·¯å¾„å§‹ç»ˆç›¸å¯¹äº templates/ æ ¹ç›®å½•</strong></li>
<li><strong>date filter åªç”¨äº time.Time ç±»å‹</strong>ï¼špost.date æ˜¯å­—ç¬¦ä¸²ï¼Œnow æ˜¯ time.Time</li>
<li><strong>åˆ©ç”¨ Gridea Pro çš„å†…ç½® filter</strong>ï¼šreading_timeã€excerptã€word_count ç­‰èƒ½ä¸ºä½ çš„ä¸»é¢˜å¢è‰²ä¸å°‘</li>
</ol>
<p>ç¥ä½ å¼€å‘å‡ºç²¾ç¾çš„ Jinja2 ä¸»é¢˜ï¼</p>

            </div>

</article>






<div class="mod-post__poster">
</div>

</div>






<!-- Reading Progress Component -->
<div class="reading-progress-container">
  <span class="reading-label">é˜…è¯»è¿›åº¦</span>
  <span class="reading-value">0%</span>
  <svg class="progress-ring" viewBox="0 0 24 24">
    <!-- Background Circle -->
    <circle class="progress-ring__circle-bg" stroke-width="3" fill="transparent" r="10" cx="12" cy="12" />
    <!-- Progress Circle -->
    <circle class="progress-ring__circle" stroke-width="3" fill="transparent" r="10" cx="12" cy="12" />
  </svg>
</div>
<footer id="footer" class="footer">
    <nav>
        
        
        <a class="menu-item" href="/">é¦–é¡µ</a>
        
        
        <a class="menu-item" href="/post">åšå®¢</a>
        
        
        <a class="menu-item" href="/memos">é—ªå¿µ</a>
        
        
        <a class="menu-item" href="/tags">æ ‡ç­¾</a>
        
        
        <a class="menu-item" href="/link">å‹é“¾</a>
        
        
        <a class="menu-item" href="/post/about">å…³äº</a>
        
    </nav>

    <div class="Copyright">Copyright &copy; <span class="current-year"></span> <a href=""></a></div>
    <script>document.querySelector('.current-year').textContent = new Date().getFullYear();</script>

    <footer id="footer" class="index_footer">
         Â·
        <a class="rss" href="/atom.xml" target="_blank" rel="noopener noreferrer">
            <i class="ri-rss-line"></i> ğŸ€ RSS
        </a>
    </footer>
</footer>




    
</body>

</html>